#!/bin/sh

# Displays number of unread news items and an loading icon if updating.
# When clicked, brings up `newsboat`.

case $BLOCK_BUTTON in
        1) setsid "$TERMINAL" -e newsboat ;;
	2) setsid newsup >/dev/null & exit ;;
        3) notify-send "ðŸ“° News module" "\- Shows unread news items
- Shows ðŸ”ƒ if updating with \`newsup\`
- Left click opens newsboat
- Middle click syncs RSS feeds
<b>Note:</b> Only one instance of newsboat (including updates) may be running at a time." ;;
esac

echo -n "ðŸ“° "
msg=$(newsboat -x print-unread | sed "s/ .*//g")
[ -z $msg ] && echo "0" && exit;
echo $msg
